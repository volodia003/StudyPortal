<Window x:Class="StudyPortal.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        xmlns:local="clr-namespace:StudyPortal"
        mc:Ignorable="d"
        Title="Образовательный портал" Height="760" Width="1180"
        WindowStartupLocation="CenterScreen"
        Background="#FAFAFA"
        Loaded="MainWindow_Loaded">
    <Grid>
        <TabControl Margin="10">
            <TabItem Header="Курсы">
                <Grid Margin="15">
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="360" />
                        <ColumnDefinition Width="*" />
                    </Grid.ColumnDefinitions>

                    <Border Grid.Column="0" Background="White" CornerRadius="8" Padding="20" Margin="0,0,15,0">
                        <Border.Effect>
                            <DropShadowEffect ShadowDepth="2" BlurRadius="8" Opacity="0.15" Direction="270"/>
                        </Border.Effect>
                        <ScrollViewer VerticalScrollBarVisibility="Auto">
                            <StackPanel>
                                <TextBlock Text="Поиск курса" FontWeight="SemiBold" FontSize="16" Margin="0,0,0,10"/>
                                <StackPanel Orientation="Horizontal" Margin="0,6,0,0">
                                    <TextBox Name="CourseSearchTextBox" Width="170" Margin="0,0,8,0" />
                                    <Button Name="SearchCourseButton" Content="Поиск" Width="70"
                                            Click="SearchCourseButton_Click" />
                                    <Button Name="ResetCourseSearchButton" Content="Сброс" Width="70" Margin="8,0,0,0"
                                            Click="ResetCourseSearchButton_Click" 
                                            Background="#757575"/>
                                </StackPanel>

                                <Separator Margin="0,20,0,20" />

                                <TextBlock Text="Название курса" FontWeight="Medium"/>
                                <TextBox Name="CourseNameTextBox" />

                                <TextBlock Text="Продолжительность (часы)" Margin="0,12,0,0" FontWeight="Medium"/>
                                <TextBox Name="DurationTextBox" />

                                <TextBlock Text="Преподаватель" Margin="0,12,0,0" FontWeight="Medium"/>
                                <ComboBox Name="CourseTeacherComboBox"
                                          DisplayMemberPath="teacher_name"
                                          SelectedValuePath="teacher_id" />

                                <StackPanel Orientation="Horizontal" Margin="0,20,0,0">
                                    <Button Content="Добавить" Width="80" Margin="0,0,8,0"
                                            Click="AddCourseButton_Click" 
                                            Background="#388E3C"/>
                                    <Button Content="Обновить" Width="80" Margin="0,0,8,0"
                                            Click="UpdateCourseButton_Click" 
                                            Background="#1976D2"/>
                                    <Button Content="Удалить" Width="80" Margin="0,0,8,0"
                                            Click="DeleteCourseButton_Click" 
                                            Background="#D32F2F"/>
                                    <Button Content="Очистить" Width="80"
                                            Click="ClearCourseFormButton_Click" 
                                            Background="#757575"/>
                                </StackPanel>

                                <Button Content="Просмотр студентов курса" Margin="0,20,0,0"
                                        Click="OpenCourseStudentsWindow_Click" 
                                        Background="#FF5722"/>
                            </StackPanel>
                        </ScrollViewer>
                    </Border>

                    <Border Grid.Column="1" Background="White" CornerRadius="8" Padding="5">
                        <Border.Effect>
                            <DropShadowEffect ShadowDepth="2" BlurRadius="8" Opacity="0.15" Direction="270"/>
                        </Border.Effect>
                        <DataGrid Name="CoursesDataGrid" AutoGenerateColumns="False"
                                  IsReadOnly="True" SelectionMode="Single"
                                  SelectionChanged="CoursesDataGrid_SelectionChanged">
                            <DataGrid.Columns>
                                <DataGridTextColumn Binding="{Binding course_id}" Header="ID" Visibility="Collapsed" />
                                <DataGridTextColumn Binding="{Binding course_name}" Header="Курс" Width="*" />
                                <DataGridTextColumn Binding="{Binding duration}" Header="Продолж. (ч)" Width="120" />
                                <DataGridTextColumn Binding="{Binding teacher_id}" Header="ID препод." Visibility="Collapsed" />
                                <DataGridTextColumn Binding="{Binding teacher_name}" Header="Преподаватель" Width="200" />
                            </DataGrid.Columns>
                        </DataGrid>
                    </Border>
                </Grid>
            </TabItem>

            <TabItem Header="Студенты">
                <Grid Margin="15">
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="360" />
                        <ColumnDefinition Width="*" />
                    </Grid.ColumnDefinitions>

                    <Border Grid.Column="0" Background="White" CornerRadius="8" Padding="20" Margin="0,0,15,0">
                        <Border.Effect>
                            <DropShadowEffect ShadowDepth="2" BlurRadius="8" Opacity="0.15" Direction="270"/>
                        </Border.Effect>
                        <ScrollViewer VerticalScrollBarVisibility="Auto">
                            <StackPanel>
                                <TextBlock Text="Данные студента" FontWeight="SemiBold" FontSize="16" Margin="0,0,0,10"/>
                                
                                <TextBlock Text="Имя" FontWeight="Medium"/>
                                <TextBox Name="StudentFirstNameTextBox" />

                                <TextBlock Text="Фамилия" Margin="0,12,0,0" FontWeight="Medium"/>
                                <TextBox Name="StudentLastNameTextBox" />

                                <TextBlock Text="Email" Margin="0,12,0,0" FontWeight="Medium"/>
                                <TextBox Name="StudentEmailTextBox" />

                                <TextBlock Text="Курс" Margin="0,12,0,0" FontWeight="Medium"/>
                                <ComboBox Name="StudentCourseComboBox"
                                          DisplayMemberPath="course_name"
                                          SelectedValuePath="course_id" />

                                <StackPanel Orientation="Horizontal" Margin="0,20,0,0">
                                    <Button Content="Добавить" Width="80" Margin="0,0,8,0"
                                            Click="AddStudentButton_Click" 
                                            Background="#388E3C"/>
                                    <Button Content="Обновить" Width="80" Margin="0,0,8,0"
                                            Click="UpdateStudentButton_Click" 
                                            Background="#1976D2"/>
                                    <Button Content="Удалить" Width="80" Margin="0,0,8,0"
                                            Click="DeleteStudentButton_Click" 
                                            Background="#D32F2F"/>
                                    <Button Content="Очистить" Width="80"
                                            Click="ClearStudentFormButton_Click" 
                                            Background="#757575"/>
                                </StackPanel>
                            </StackPanel>
                        </ScrollViewer>
                    </Border>

                    <Border Grid.Column="1" Background="White" CornerRadius="8" Padding="5">
                        <Border.Effect>
                            <DropShadowEffect ShadowDepth="2" BlurRadius="8" Opacity="0.15" Direction="270"/>
                        </Border.Effect>
                        <DataGrid Name="StudentsDataGrid" AutoGenerateColumns="False"
                                  IsReadOnly="True" SelectionMode="Single"
                                  SelectionChanged="StudentsDataGrid_SelectionChanged">
                            <DataGrid.Columns>
                                <DataGridTextColumn Binding="{Binding student_id}" Header="ID" Visibility="Collapsed" />
                                <DataGridTextColumn Binding="{Binding first_name}" Header="Имя" Width="160" />
                                <DataGridTextColumn Binding="{Binding last_name}" Header="Фамилия" Width="160" />
                                <DataGridTextColumn Binding="{Binding email}" Header="Email" Width="200" />
                                <DataGridTextColumn Binding="{Binding course_id}" Header="ID курса" Visibility="Collapsed" />
                                <DataGridTextColumn Binding="{Binding course_name}" Header="Курс" Width="*" />
                            </DataGrid.Columns>
                        </DataGrid>
                    </Border>
                </Grid>
            </TabItem>

            <TabItem Header="Преподаватели">
                <Grid Margin="15">
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="360" />
                        <ColumnDefinition Width="*" />
                    </Grid.ColumnDefinitions>

                    <Border Grid.Column="0" Background="White" CornerRadius="8" Padding="20" Margin="0,0,15,0">
                        <Border.Effect>
                            <DropShadowEffect ShadowDepth="2" BlurRadius="8" Opacity="0.15" Direction="270"/>
                        </Border.Effect>
                        <ScrollViewer VerticalScrollBarVisibility="Auto">
                            <StackPanel>
                                <TextBlock Text="Данные преподавателя" FontWeight="SemiBold" FontSize="16" Margin="0,0,0,10"/>
                                
                                <TextBlock Text="Имя" FontWeight="Medium"/>
                                <TextBox Name="TeacherFirstNameTextBox" />

                                <TextBlock Text="Фамилия" Margin="0,12,0,0" FontWeight="Medium"/>
                                <TextBox Name="TeacherLastNameTextBox" />

                                <TextBlock Text="Предмет" Margin="0,12,0,0" FontWeight="Medium"/>
                                <TextBox Name="TeacherSubjectTextBox" />

                                <StackPanel Orientation="Horizontal" Margin="0,20,0,0">
                                    <Button Content="Добавить" Width="80" Margin="0,0,8,0"
                                            Click="AddTeacherButton_Click" 
                                            Background="#388E3C"/>
                                    <Button Content="Обновить" Width="80" Margin="0,0,8,0"
                                            Click="UpdateTeacherButton_Click" 
                                            Background="#1976D2"/>
                                    <Button Content="Удалить" Width="80" Margin="0,0,8,0"
                                            Click="DeleteTeacherButton_Click" 
                                            Background="#D32F2F"/>
                                    <Button Content="Очистить" Width="80"
                                            Click="ClearTeacherFormButton_Click" 
                                            Background="#757575"/>
                                </StackPanel>
                            </StackPanel>
                        </ScrollViewer>
                    </Border>

                    <Border Grid.Column="1" Background="White" CornerRadius="8" Padding="5">
                        <Border.Effect>
                            <DropShadowEffect ShadowDepth="2" BlurRadius="8" Opacity="0.15" Direction="270"/>
                        </Border.Effect>
                        <DataGrid Name="TeachersDataGrid" AutoGenerateColumns="False"
                                  IsReadOnly="True" SelectionMode="Single"
                                  SelectionChanged="TeachersDataGrid_SelectionChanged">
                            <DataGrid.Columns>
                                <DataGridTextColumn Binding="{Binding teacher_id}" Header="ID" Visibility="Collapsed" />
                                <DataGridTextColumn Binding="{Binding first_name}" Header="Имя" Width="200" />
                                <DataGridTextColumn Binding="{Binding last_name}" Header="Фамилия" Width="200" />
                                <DataGridTextColumn Binding="{Binding subject}" Header="Предмет" Width="*" />
                            </DataGrid.Columns>
                        </DataGrid>
                    </Border>
                </Grid>
            </TabItem>

            <TabItem Header="Материалы">
                <Grid Margin="15">
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="360" />
                        <ColumnDefinition Width="*" />
                    </Grid.ColumnDefinitions>

                    <Border Grid.Column="0" Background="White" CornerRadius="8" Padding="20" Margin="0,0,15,0">
                        <Border.Effect>
                            <DropShadowEffect ShadowDepth="2" BlurRadius="8" Opacity="0.15" Direction="270"/>
                        </Border.Effect>
                        <ScrollViewer VerticalScrollBarVisibility="Auto">
                            <StackPanel>
                                <TextBlock Text="Учебные материалы" FontWeight="SemiBold" FontSize="16" Margin="0,0,0,10"/>
                                
                                <TextBlock Text="Курс" FontWeight="Medium"/>
                                <ComboBox Name="MaterialCourseComboBox"
                                          DisplayMemberPath="course_name"
                                          SelectedValuePath="course_id" />

                                <TextBlock Text="Файл" Margin="0,12,0,0" FontWeight="Medium"/>
                                <TextBox Name="MaterialFilePathTextBox" IsReadOnly="True" />

                                <StackPanel Orientation="Horizontal" Margin="0,16,0,0">
                                    <Button Content="Выбрать файл" Width="110" Margin="0,0,8,0"
                                            Click="ChooseMaterialFileButton_Click" 
                                            Background="#FF5722"/>
                                    <Button Content="Прикрепить" Width="90" Margin="0,0,8,0"
                                            Click="AttachMaterialButton_Click" 
                                            Background="#388E3C"/>
                                    <Button Content="Удалить" Width="80" Margin="0,0,8,0"
                                            Click="DeleteMaterialButton_Click" 
                                            Background="#D32F2F"/>
                                </StackPanel>

                                <StackPanel Orientation="Horizontal" Margin="0,12,0,0">
                                    <Button Content="Очистить" Width="90"
                                            Click="ClearMaterialFormButton_Click" 
                                            Background="#757575"/>
                                    <Button Content="Открыть файл" Width="110" Margin="8,0,0,0"
                                            Click="OpenMaterialFileButton_Click" 
                                            Background="#1976D2"/>
                                </StackPanel>
                            </StackPanel>
                        </ScrollViewer>
                    </Border>

                    <Border Grid.Column="1" Background="White" CornerRadius="8" Padding="5">
                        <Border.Effect>
                            <DropShadowEffect ShadowDepth="2" BlurRadius="8" Opacity="0.15" Direction="270"/>
                        </Border.Effect>
                        <DataGrid Name="MaterialsDataGrid" AutoGenerateColumns="False"
                                  IsReadOnly="True" SelectionMode="Single"
                                  SelectionChanged="MaterialsDataGrid_SelectionChanged">
                            <DataGrid.Columns>
                                <DataGridTextColumn Binding="{Binding material_id}" Header="ID" Visibility="Collapsed" />
                                <DataGridTextColumn Binding="{Binding course_id}" Header="ID курса" Visibility="Collapsed" />
                                <DataGridTextColumn Binding="{Binding course_name}" Header="Курс" Width="200" />
                                <DataGridTextColumn Binding="{Binding file_name}" Header="Имя файла" Width="200" />
                                <DataGridTextColumn Binding="{Binding file_path}" Header="Путь к файлу" Width="*" />
                                <DataGridTextColumn Binding="{Binding uploaded_at}" Header="Загружен" Width="160" />
                            </DataGrid.Columns>
                        </DataGrid>
                    </Border>
                </Grid>
            </TabItem>
        </TabControl>
    </Grid>
</Window>
